{"componentChunkName":"component---src-templates-blog-post-js","path":"/automatic-file-backups/","result":{"data":{"site":{"siteMetadata":{"title":"Isaiah's Blog"}},"markdownRemark":{"id":"93ad75a1-1b15-5bff-9d10-32d6d8d6d3da","excerpt":"“And when they ask us what we’re doing,\nyou can say, We’re remembering.\nThat’s where we’ll win out in the long run.”\n— Ray Bradbury (Fahrenheit 451) The Problem…","html":"<blockquote>\n<p>“And when they ask us what we’re doing,\nyou can say, We’re remembering.\nThat’s where we’ll win out in the long run.”\n— Ray Bradbury (Fahrenheit 451)</p>\n</blockquote>\n<h1>The Problem</h1>\n<p>Have you ever deleted a file and two days later needed to download it again? Have you ever done this with files that take forever to re-download? Me too…</p>\n<h1>The Solution</h1>\n<p>Create automated backups of your downloaded files.</p>\n<p>This sounds like it could be cumbersome and resource-intensive. However, I recently discovered <a href=\"https://borgbackup.org\">BorgBackup</a> (Borg) and it was neither.</p>\n<h2>Step by Step</h2>\n<p>Also available as a <a href=\"https://gist.github.com/isaiahnixon/f452cb1a0d505ed1381312c18e767295\">Gist</a>, and a <a href=\"https://youtu.be/G_hCmAfVKAM\">YouTube walkthrough</a>.</p>\n<p>The following commands are set up for Ubuntu 18.04 but should translate to any major operating system without too much hassle.</p>\n<ol>\n<li>Create a directory.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mkdir bkp</code></pre></div>\n<ol start=\"2\">\n<li>Install Borg.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt install borgbackup -y</code></pre></div>\n<ol start=\"3\">\n<li>\n<p>Create the repository.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">borg init --encryption none bkp/</code></pre></div>\n</li>\n<li>Add crons job taking backups and cleaning up old ones.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">crontab -e</code></pre></div>\n<p>Using your text editor, add the following lines:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">0 12 * * * borg create ~/bkp::Downloads-$(date &#39;+\\%m-\\%d-\\%Y&#39;) ~/Downloads/\n0 13 * * * borg prune -v --list --keep-within=7d ~/bkp</code></pre></div>\n<h2>Note on Extraction:</h2>\n<p>When extracting files using Borg, the directory structure in the backup will be the true system path of the directory that you backed up. For this reason, you must specify the system path when extracting the backup to a folder other than the source folder. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">borg extract ../bkp::Downloads-09-05-2020 home/e/Downloads</code></pre></div>\n<p>On my system, this command extracts the Dowloads backup from September 5th to the current directory. However, your username probably won’t be the letter <code class=\"language-text\">e</code>.</p>\n<h1>Conclusion</h1>\n<p>Borg has a lot of in-depth and well-developed features outside the scope of this use case. I look forward to setting up some more complex scenarios and creating more walkthroughs in the future. Hopefully, this helps you get started.</p>","frontmatter":{"title":"Easy Automatic File Backups with Borg | Ubuntu 18.04","date":"September 05, 2020","description":"“And when they ask us what we're doing, you can say, We're remembering.\" - Ray Bradbury"}}},"pageContext":{"slug":"/automatic-file-backups/","previous":{"fields":{"slug":"/dynamic-canvas/"},"frontmatter":{"title":"How to Make a Dynamic, Animated, and Responsive Canvas Element"}},"next":null}}}